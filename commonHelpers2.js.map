{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input'),\n  textarea: document.querySelector('.feedback-form textarea'),\n  button: document.querySelector('.feedback-form button'),\n};\nconst { form, input, textarea, button } = refs;\nconst FORM_DATA_KEY = 'feedback-form-state';\nconst data = {};\n\nform.addEventListener('input', throttle(onChangeInput, 500));\nform.addEventListener('submit', onSubmitForm);\n\nif (localStorage.getItem(FORM_DATA_KEY)) {\n  const newData = JSON.parse(localStorage.getItem(FORM_DATA_KEY));\n  input.value = newData.email;\n  textarea.value = newData.message;\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const myFormData = new FormData(form);\n  console.log(\n    { email: myFormData.get('email'), message: myFormData.get('message') });\n  form.reset();\n  localStorage.clear();\n}\n\nfunction onChangeInput(e) {\n  data.email = input.value;\n  data.message = textarea.value;\n  localStorage.setItem(FORM_DATA_KEY, JSON.stringify(data));\n}"],"names":["refs","form","input","textarea","button","FORM_DATA_KEY","data","throttle","onChangeInput","onSubmitForm","newData","myFormData"],"mappings":"wIAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,SAAU,SAAS,cAAc,yBAAyB,EAC1D,OAAQ,SAAS,cAAc,uBAAuB,CACxD,EACM,CAAE,KAAAC,EAAM,MAAAC,EAAO,SAAAC,EAAU,OAAAC,CAAM,EAAKJ,EACpCK,EAAgB,sBAChBC,EAAO,CAAA,EAEbL,EAAK,iBAAiB,QAASM,EAASC,EAAe,GAAG,CAAC,EAC3DP,EAAK,iBAAiB,SAAUQ,CAAY,EAE5C,GAAI,aAAa,QAAQJ,CAAa,EAAG,CACvC,MAAMK,EAAU,KAAK,MAAM,aAAa,QAAQL,CAAa,CAAC,EAC9DH,EAAM,MAAQQ,EAAQ,MACtBP,EAAS,MAAQO,EAAQ,OAC3B,CAEA,SAASD,EAAa,EAAG,CACvB,EAAE,eAAc,EAChB,MAAME,EAAa,IAAI,SAASV,CAAI,EACpC,QAAQ,IACN,CAAE,MAAOU,EAAW,IAAI,OAAO,EAAG,QAASA,EAAW,IAAI,SAAS,CAAC,CAAE,EACxEV,EAAK,MAAK,EACV,aAAa,MAAK,CACpB,CAEA,SAASO,EAAc,EAAG,CACxBF,EAAK,MAAQJ,EAAM,MACnBI,EAAK,QAAUH,EAAS,MACxB,aAAa,QAAQE,EAAe,KAAK,UAAUC,CAAI,CAAC,CAC1D"}